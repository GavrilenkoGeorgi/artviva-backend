{"version":3,"sources":["components/forms/SchoolClassForm.jsx"],"names":["mapDispatchToProps","setNotification","createSchoolClass","updateSchoolClass","connect","state","user","schoolClass","mode","useState","editMode","setEditMode","pupilError","setPupilError","useEffect","searchService","setToken","token","schoolClassesService","teachersList","setTeachersList","pupilsList","setPupilsList","specialtiesList","setSpecialtiesList","checkSubmitBtnState","pupils","handleSchoolClass","values","setErrors","resetForm","length","existingSchoolClass","newSchoolClass","then","message","variant","catch","error","response","data","cause","name","console","log","id","schoolClassFormSchema","Yup","shape","title","min","max","required","info","teacher","specialty","of","className","initialValues","map","pupil","enableReinitialize","onSubmit","a","validationSchema","handleSubmit","handleChange","handleBlur","touched","errors","data-cy","noValidate","Row","Group","controlId","as","Col","Label","Control","type","onChange","onBlur","value","isValid","isInvalid","Feedback","rows","list","autoComplete","onKeyUp","event","query","teachers","getTeachers","target","key","specialties","getSpecialties","render","arrayHelpers","index","xs","getPupils","msg","block","size","onClick","remove","form","icon","faMinus","push","faPlus","varialt","label"],"mappings":"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","file":"static/js/0.85d55e80.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { setNotification } from '../../reducers/notificationReducer'\nimport { createSchoolClass, updateSchoolClass } from '../../reducers/schoolClassesReducer'\nimport searchService from '../../services/search'\nimport schoolClassesService from '../../services/schoolClasses'\n\nimport { Formik, FieldArray, ErrorMessage } from 'formik'\nimport * as Yup from 'yup'\nimport PropTypes from 'prop-types'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlus, faMinus } from '@fortawesome/free-solid-svg-icons'\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap'\nimport ButtonComponent from '../common/Button'\n\n\nconst SchoolClassForm = ({\n\tschoolClass,\n\tuser,\n\tsetNotification,\n\tcreateSchoolClass,\n\tupdateSchoolClass,\n\tmode }) => {\n\n\tconst [editMode, setEditMode] = useState(false)\n\tconst [pupilError, setPupilError] = useState(false)\n\n\tuseEffect(() => {\n\t\tif (mode === 'edit') {\n\t\t\tsetEditMode(true)\n\t\t}\n\t// eslint-disable-next-line\n\t}, [])\n\n\tuseEffect(() => {\n\t\tsearchService.setToken(user.token)\n\t\tschoolClassesService.setToken(user.token)\n\t}, [user])\n\n\t// lists for form input autocopmlete suggestions\n\tconst [teachersList, setTeachersList] = useState([])\n\tconst [pupilsList, setPupilsList] = useState([])\n\tconst [specialtiesList, setSpecialtiesList] = useState([])\n\n\tconst getTeachers = (value) => {\n\t\tif (value.length >= 2) {\n\t\t\tconst query = { value }\n\t\t\tsearchService.teachers(query)\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetTeachersList(data)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst getPupils = value => {\n\t\tif (value.length >= 2) {\n\t\t\tconst query = { value }\n\t\t\tsearchService.pupils(query)\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetPupilsList(data)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst getSpecialties = value => {\n\t\tif (value.length >= 2) {\n\t\t\tconst query = { value }\n\t\t\tsearchService.specialties(query)\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetSpecialtiesList(data)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst checkSubmitBtnState = ({ pupils }) => {\n\t\tpupils[0] === ''\n\t\t\t? setPupilError(true)\n\t\t\t: setPupilError(false)\n\t}\n\n\tconst handleSchoolClass = (values, setErrors, resetForm) => {\n\t\t// check if at least one pupil was added\n\t\t// need this cause of variable number of pupils fields\n\t\tif (values.pupils.length === 0) {\n\t\t\tsetPupilError(true)\n\t\t\treturn\n\t\t}\n\t\t// if current from mode is edit or create..\n\t\teditMode\n\t\t\t? existingSchoolClass(values)\n\t\t\t: newSchoolClass(values, setErrors, resetForm)\n\t}\n\n\tconst newSchoolClass = (values, setErrors, resetForm) => {\n\t\tcreateSchoolClass(values)\n\t\t\t.then(() => {\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: 'Новий клас був успішно додан.',\n\t\t\t\t\tvariant: 'success'\n\t\t\t\t}, 5)\n\t\t\t\tresetForm()\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst { message, cause } = { ...error.response.data }\n\t\t\t\tif (cause === 'name') { // this!\n\t\t\t\t\tsetErrors({ name: message })\n\t\t\t\t}\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage,\n\t\t\t\t\tvariant: 'danger'\n\t\t\t\t}, 5)\n\t\t\t})\n\t}\n\n\tconst existingSchoolClass = (values) => {\n\t\tconsole.log('Updating', values)\n\t\tupdateSchoolClass(schoolClass.id, values)\n\t\t\t.then(() => {\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: 'Зміни успішно збережено.',\n\t\t\t\t\tvariant: 'success'\n\t\t\t\t}, 5)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst { message } = { ...error.response.data }\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage,\n\t\t\t\t\tvariant: 'danger'\n\t\t\t\t}, 5)\n\t\t\t})\n\t}\n\n\n\t// form data and schema\n\tconst initialFormValues = () =>\n\t\teditMode\n\t\t\t? { ...schoolClass,\n\t\t\t\tteacher: schoolClass.teacher.name,\n\t\t\t\tspecialty: schoolClass.specialty.title,\n\t\t\t\tpupils: schoolClass.pupils.map(pupil => pupil.name)\n\t\t\t}\n\t\t\t: { title: '', info: '', teacher: '', specialty: '', pupils: [''] }\n\n\tconst schoolClassFormSchema = Yup.object().shape({\n\t\ttitle: Yup.string()\n\t\t\t.min(2, 'Не менш 2 символів.')\n\t\t\t.max(128, 'Максимум 128 символів.')\n\t\t\t.required('Enter class title'),\n\t\tinfo: Yup.string()\n\t\t\t.min(2, 'Не менш 2 символів.')\n\t\t\t.max(255, 'Максимум 255 символів.')\n\t\t\t.required('Enter some description'),\n\t\tteacher: Yup.string()\n\t\t\t.min(2, 'Не менш 2 символів.')\n\t\t\t.max(128, 'Максимум 128 символів.')\n\t\t\t.required('Enter teacher name'),\n\t\tspecialty: Yup.string()\n\t\t\t.min(2, 'Не менш 2 символів.')\n\t\t\t.max(128, 'Максимум 128 символів.')\n\t\t\t.required('Enter teacher name'),\n\t\tpupils: Yup.array().of(\n\t\t\tYup.string()\n\t\t\t\t.min(2, 'Не менш 2 символів.')\n\t\t\t\t.max(128, 'Максимум 128 символів.')\n\t\t\t\t.required('Це поле є обов\\'язковим.')\n\t\t)\n\t})\n\n\treturn (\n\t\t<Container>\n\t\t\t<h2 className=\"text-center custom-font py-4\">\n\t\t\t\t{editMode ? 'Редагувати' : 'Додати'} клас\n\t\t\t</h2>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialFormValues()}\n\t\t\t\tenableReinitialize\n\t\t\t\tonSubmit={async (values, { resetForm, setErrors }) => {\n\t\t\t\t\tawait handleSchoolClass(values, setErrors, resetForm)\n\t\t\t\t}}\n\t\t\t\tvalidationSchema={schoolClassFormSchema}\n\t\t\t>\n\t\t\t\t{({ handleSubmit,\n\t\t\t\t\thandleChange,\n\t\t\t\t\thandleBlur,\n\t\t\t\t\tvalues,\n\t\t\t\t\ttouched,\n\t\t\t\t\terrors,\n\t\t\t\t}) => (\n\t\t\t\t\t<Form\n\t\t\t\t\t\tdata-cy=\"school-class-form\"\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t\tclassName=\"text-left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* School class title */}\n\t\t\t\t\t\t<Form.Row className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\tcontrolId={\n\t\t\t\t\t\t\t\t\teditMode\n\t\t\t\t\t\t\t\t\t\t? `school-class-title-input-${schoolClass.id}`\n\t\t\t\t\t\t\t\t\t\t: 'school-class-title-input'}\n\t\t\t\t\t\t\t\tas={Col}\n\t\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\tНазва класу\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tdata-cy=\"title-input\"\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\tvalue={values.title}\n\t\t\t\t\t\t\t\t\tisValid={touched.title && !errors.title}\n\t\t\t\t\t\t\t\t\tisInvalid={touched.title && !!errors.title}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.title}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Form.Row>\n\n\t\t\t\t\t\t{/* School class info */}\n\t\t\t\t\t\t<Form.Row className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\tcontrolId={\n\t\t\t\t\t\t\t\t\teditMode\n\t\t\t\t\t\t\t\t\t\t? `school-class-info-input-${schoolClass.id}`\n\t\t\t\t\t\t\t\t\t\t: 'school-class-info-input'}\n\t\t\t\t\t\t\t\tas={Col}\n\t\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\tОпис/інформація про клас\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\tname=\"info\"\n\t\t\t\t\t\t\t\t\tdata-cy=\"info-input\"\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\tvalue={values.info}\n\t\t\t\t\t\t\t\t\tisValid={touched.info && !errors.info}\n\t\t\t\t\t\t\t\t\tisInvalid={touched.info && !!errors.info}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.info}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Form.Row>\n\n\t\t\t\t\t\t{/* School class teacher */}\n\t\t\t\t\t\t<Form.Row className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\tcontrolId={\n\t\t\t\t\t\t\t\t\teditMode\n\t\t\t\t\t\t\t\t\t\t? `school-class-teacher-input-${schoolClass.id}`\n\t\t\t\t\t\t\t\t\t\t: 'school-class-teacher-input'}\n\t\t\t\t\t\t\t\tas={Col}\n\t\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\tВчітель\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"teacher\"\n\t\t\t\t\t\t\t\t\tdata-cy=\"teacher-input\"\n\t\t\t\t\t\t\t\t\tlist=\"teachers-list\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tonKeyUp={event => getTeachers(event.target.value)}\n\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\tvalue={values.teacher}\n\t\t\t\t\t\t\t\t\tisValid={touched.teacher && !errors.teacher}\n\t\t\t\t\t\t\t\t\tisInvalid={touched.teacher && !!errors.teacher}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<datalist id=\"teachers-list\">\n\t\t\t\t\t\t\t\t\t{teachersList.map((name) =>\n\t\t\t\t\t\t\t\t\t\t<option key={name} value={name} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.teacher}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Form.Row>\n\n\t\t\t\t\t\t{/* School class specialty */}\n\t\t\t\t\t\t<Form.Row className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\tcontrolId={\n\t\t\t\t\t\t\t\t\teditMode\n\t\t\t\t\t\t\t\t\t\t? `school-class-specialty-input-${schoolClass.id}`\n\t\t\t\t\t\t\t\t\t\t: 'school-class-specialty-input'}\n\t\t\t\t\t\t\t\tas={Col}\n\t\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\tФах класу\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"specialty\"\n\t\t\t\t\t\t\t\t\tdata-cy=\"specialty-input\"\n\t\t\t\t\t\t\t\t\tlist=\"specialties-list\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tonKeyUp={event => getSpecialties(event.target.value)}\n\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\tvalue={values.specialty}\n\t\t\t\t\t\t\t\t\tisValid={touched.specialty && !errors.specialty}\n\t\t\t\t\t\t\t\t\tisInvalid={touched.specialty && !!errors.specialty}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<datalist id=\"specialties-list\">\n\t\t\t\t\t\t\t\t\t{specialtiesList.map((title) =>\n\t\t\t\t\t\t\t\t\t\t<option key={title} value={title} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.specialty}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Form.Row>\n\n\t\t\t\t\t\t{/* School pupils list */}\n\t\t\t\t\t\t<FieldArray\n\t\t\t\t\t\t\tname=\"pupils\"\n\t\t\t\t\t\t\trender={arrayHelpers => (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\t\tУчні\n\t\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t\t{values.pupils && values.pupils.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\tvalues.pupils.map((specialty, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<Form.Row key={index} className=\"d-flex justify-content-end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist=\"pupils-list\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`pupils[${index}]`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={values.pupils[index]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonKeyUp={event => getPupils(event.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisValid={touched.pupils && !errors.pupils}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// isInvalid={touched.specialties && !!errors.specialties}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<datalist id=\"pupils-list\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{pupilsList.map((name) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={name} value={name} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ErrorMessage\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`pupils[${index}]`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"border border-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={msg => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"form-validation-error-mk2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{msg}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={4} className=\"my-2 align-items-end border1 border-secondary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"pr-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* remove pupil from the list */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline-danger\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarrayHelpers.remove(index)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckSubmitBtnState(arrayHelpers.form.values)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faMinus} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"pl-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* add an empty pupil input */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline-success\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => { arrayHelpers.push('')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckSubmitBtnState(arrayHelpers.form.values)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faPlus} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"my-2\"\n\t\t\t\t\t\t\t\t\t\t\tvariant={pupilError ? 'outline-danger' : 'outline-primary'}\n\t\t\t\t\t\t\t\t\t\t\tvarialt=\"outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tarrayHelpers.push('')\n\t\t\t\t\t\t\t\t\t\t\t\tcheckSubmitBtnState(arrayHelpers.form.values)\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t{/* show this btn when if user has removed all specialties from the list */}\n\t\t\t\t\t\t\t\t\t\t\tДодати учня\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Button */}\n\t\t\t\t\t\t<Form.Row className=\"d-flex justify-content-center text-center\">\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\tas={Col}\n\t\t\t\t\t\t\t\tclassName=\"pt-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\t\tclassName=\"px-4 primary-color-shadow\"\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tlabel=\"Додати\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t</Container>\n\t)\n}\n\nSchoolClassForm.propTypes = {\n\tschoolClass: PropTypes.object,\n\tuser: PropTypes.object.isRequired,\n\tsetNotification: PropTypes.func.isRequired,\n\tcreateSchoolClass: PropTypes.func.isRequired,\n\tupdateSchoolClass: PropTypes.func.isRequired,\n\tmode: PropTypes.oneOf(['create', 'edit']).isRequired\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.user\n\t}\n}\n\nconst mapDispatchToProps = {\n\tsetNotification,\n\tcreateSchoolClass,\n\tupdateSchoolClass\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SchoolClassForm)\n"],"sourceRoot":""}